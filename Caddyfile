{
	auto_https off
}

# Configuration principale avec le hostname de Render
hosting-render-mercure-hub.onrender.com {
	# Render gère déjà le TLS en frontal
	tls internal

	# Headers de sécurité
	header {
		Strict-Transport-Security "max-age=31536000"
		X-Content-Type-Options "nosniff"
		X-Frame-Options "DENY"
	}

	# Route Mercure
	route {
		mercure {
			publisher_jwt "test-publisher-key-123"
			subscriber_jwt "test-subscriber-key-456"
			anonymous
			cors_origins *
			transport_url bolt:///tmp/mercure.db
		}
	}
}
